env:
  RUST_LOG: debug
  RUST_BACKTRACE: 1

  DATABASE_URL: postgresql://$(BACKEND_API_USER):$(BACKEND_API_PASSWORD)@cloudsqlproxy.default:5432/indexer-venom-stg-2
  DATABASE_MAX_CONNECTIONS: 5
  KAFKA_CONSUMER_GROUP: temp-venom-stg2-1
  KAFKA_TOPIC: rest-transactions
  STATES_RPC_ENDPOINTS: $(VENOM_RPC_ENDPOINTS)
  KAFKA_SETTINGS__BOOTSTRAP_SERVERS: $(KAFKA_SETTINGS__BOOTSTRAP_SERVERS)
  KAFKA_SETTINGS__SECURITY_PROTOCOL: SASL_SSL
  KAFKA_SETTINGS__SASL_USERNAME: $(REST_SASL_USERNAME)
  KAFKA_SETTINGS__SASL_PASSWORD: $(REST_SASL_PASSWORD)
  KAFKA_SETTINGS__SASL_MECHANISM: SCRAM-SHA-512
  KAFKA_SETTINGS__SSL_KEYSTORE_LOCATION: /app/broker.keystore.jks
  KAFKA_SETTINGS__SSL_KEYSTORE_PASSWORD: $(KAFKA_SETTINGS__SSL_KEYSTORE_PASSWORD)
  KAFKA_SETTINGS__SSL_CA_LOCATION: /app/ca.pem
  TRUSTED_AUCTION_ROOTS: 0:da2b3e1b2592940bdc2fe758b72d3b63ac979a1b6e9b47d09aed5441d7b9ef65
  TRUSTED_DIRECT_BUY_FACTORIES: 0:9c4872bef63129b3209fe038e75ec0a0fd33ac1dabaca51cf24d4f63998c47ec
  TRUSTED_DIRECT_SELL_FACTORIES: 0:2f21a56edb8be3d0bfa654f359c5f80a262d45f5dc3addeda20925302e6a8fc8
  SERVER_API_URL: 0.0.0.0:3001
  RESET: false

service:
  port: 3001

ingress:
  enabled: true
  hosts:
    - host: indexer-venom-stg2.bf.works
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls:
    - secretName: indexer-venom-stg2-tls
      hosts:
        - indexer-venom-stg2.bf.works
  
controller: statefulset
