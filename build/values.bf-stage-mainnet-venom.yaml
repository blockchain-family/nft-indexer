env:
  RUST_LOG: info
  RUST_BACKTRACE: 1

  DATABASE_URL: postgresql://$(STAGE_MAINNET_VENOM_PG_USER):$(STAGE_MAINNET_VENOM_PG_PASSWORD)@postgresql-bf.europe-west1-c.c.broxus.internal:5432/nft-indexer-stage-mainnet-venom
  DATABASE_MAX_CONNECTIONS: 5

  KAFKA_CONSUMER_GROUP: nft-indexer-stage-mainnet-venom
  KAFKA_TOPIC: sahara-raw-transactions

  KAFKA_SETTINGS__BOOTSTRAP_SERVERS: kafka-venom-1.europe-west1-c.c.broxus.internal:9092,kafka-venom-2.europe-west1-c.c.broxus.internal:9092,kafka-venom-3.europe-west1-c.c.broxus.internal:9092
  KAFKA_SETTINGS__SECURITY_PROTOCOL: PLAINTEXT

  STATES_RPC_ENDPOINTS: https://jrpc.venom.foundation/rpc
  JRPC_REQ_LATENCY_MILLIS: 0

  SERVER_API_URL: 0.0.0.0:3001

  IDLE_AFTER_PRICE_LOOP_SEC: 100
  IDLE_AFTER_META_LOOP_SEC: 100
  PRICE_UPDATE_FREQUENCY_SEC: 180

  BC_NAME: Venom
  DEX_HOST_URL: https://api.web3.world

service:
  port: 3001

ingress:
  enabled: false
  hosts:
    - host: indexer-venom-stage-mainnet.bf.works
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls:
    - secretName: indexer-venom-stage-mainnet-tls
      hosts:
        - indexer-venom-stage-mainnet.bf.works

controller: statefulset

sharedSecrets:
  - nftIndexer
