env:
  RUST_LOG: INFO
  RUST_BACKTRACE: 1

  DATABASE_URL: postgresql://$(PG_USER_TYCHO_TESTNET):$(PG_PASSWORD_TYCHO_TESTNET)@cloudsqlproxy.default:5432/nft-indexer-stage-tycho-testnet
  DATABASE_MAX_CONNECTIONS: 5

  KAFKA_CONSUMER_GROUP: nft-indexer-tycho-testnet
  KAFKA_TOPIC: tycho-testnet-raw-transactions

  KAFKA_SETTINGS__BOOTSTRAP_SERVERS: kafka-f8ec3b33-o1174e556.database.cloud.ovh.net:20186
  KAFKA_SETTINGS__SECURITY_PROTOCOL: SSL
  KAFKA_SETTINGS__SSL_CA_LOCATION: /tmp/ca.pem
  KAFKA_SETTINGS__SSL_KEY_LOCATION: /tmp/service.key
  KAFKA_SETTINGS__SSL_CERTIFICATE_LOCATION: /tmp/service.crt

  STATES_RPC_ENDPOINTS: https://rpc-testnet.tychoprotocol.com
  JRPC_REQ_LATENCY_MILLIS: 0

  SERVER_API_URL: 0.0.0.0:3001

  IDLE_AFTER_PRICE_LOOP_SEC: 100
  IDLE_AFTER_META_LOOP_SEC: 100
  PRICE_UPDATE_FREQUENCY_SEC: 180

  BC_NAME: Tycho
  DEX_HOST_URL: https://api-test-tycho.flatqube.io/

service:
  port: 3001

ingress:
  enabled: false
  hosts:
    - host: indexer-tycho-stage-testnet.bf.works
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls:
    - secretName: indexer-tycho-stage-testnet-tls
      hosts:
        - indexer-tycho-stage-testnet.bf.works

controller: statefulset

sharedSecrets:
  - nftIndexer
  - kafkaTychoTestnet
